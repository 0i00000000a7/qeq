let e=localStorage.getItem("QεQ Random-best"),t=localStorage.getItem("QεQ Random-chance"),n=Number(null==e?1:e),o=Number(null==t?.5:t),c=1,a=0;function r(){a=Math.floor(Math.log(Math.random())/Math.log(o)),n>(c=o**(a+1))&&(n=c)}function l(){let e=prompt("输入想要的概率, 单位为百分比,(0.0001%~99.9999%)");e=Number(e),isNaN(e)?alert("非法的概率"):e<1e-4?alert("非法的概率"):e>99.9999?alert("非法的概率"):o=e/100}function u(){let e=document.querySelector("#a"),t=document.querySelector("#b"),r=document.querySelector("#c"),l=document.querySelector("#d");e.textContent=1==c?"":100*c+"％",t.textContent=1==n?"":100*n+"％",r.textContent=100*o+"％",l.textContent=1==c?"当前未抛硬币":`连续${a}次朝上`,localStorage.setItem("QεQ Random-best",n),localStorage.setItem("QεQ Random-chance",o),requestAnimationFrame(u)}document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#throw"),t=document.querySelector("#change");e&&e.addEventListener("click",r),t&&t.addEventListener("click",l),u()})